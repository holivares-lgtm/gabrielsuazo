<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Administrativo</title>
  <link rel="stylesheet" href="css/styles.css">
  
</head>
<body>
<nav class="navbar">
  <div class="logo">
    <img src="assets/logo.jpeg" alt="Logo" height="50">
    <span>Escuela de Fútbol Gabriel Suazo</span>
  </div>
  <ul>
    <li><a href="index.html">Inicio</a></li>
    <li><a href="dashboard.html">Dashboard</a></li>
    <li><a href="profesores.html">Profesores</a></li>
    <li><a href="alumnos.html">Alumnos</a></li>
    <li><a href="pagos.html">Pagos</a></li>
    <li><a href="asistencia.html">Asistencia</a></li>
    <li><a href="asistencia-qr.html">Asistencia QR</a></li>
  </ul>
</nav>
<div class="container">
  <h1>Dashboard Administrativo</h1>
  
<div class="subnav">
  <button class="tab-btn active" data-tab="cuotas">Cuotas</button>
  <button class="tab-btn" data-tab="balance">Balance</button>
  <button class="tab-btn" data-tab="avisos">Avisos</button>
</div>

<div class="tab-panel" id="tab-cuotas" style="display:block;">
  <div class="toolbar">
    <div class="search">
      <label for="searchMorosos">Buscar:</label>
      <input id="searchMorosos" type="text" placeholder="Nombre, categoría, email...">
    </div>
    <div class="filters">
      <label for="filtroEstado">Estado:</label>
      <select id="filtroEstado">
        <option value="todos">Todos</option>
        <option value="aldia">Al día</option>
        <option value="moroso">Moroso</option>
      </select>
      <label for="filtroCategoria">Categoría:</label>
      <select id="filtroCategoria">
        <option value="todas">Todas</option>
        <option value="Sub 12">Sub 12</option>
        <option value="Sub 15">Sub 15</option>
        <option value="Sub 18">Sub 18</option>
      </select>
    </div>
  </div>

  <div class="card-grid" style="margin-top:14px;">
    <div class="card stat"><h3 id="statAlDia">0</h3><p>Al día</p></div>
    <div class="card stat"><h3 id="statMorosos">0</h3><p>Morosos</p></div>
    <div class="card stat"><h3 id="statPendiente">$0</h3><p>Pendiente total</p></div>
    <div class="card stat"><h3 id="statRecaudado">$0</h3><p>Recaudado</p></div>
  </div>

  <div class="two-col" style="margin-top:18px;">
    <div>
      <h2 style="margin: 0 0 8px;">Listado</h2>
      <table>
        <thead>
          <tr>
            <th>Nombre</th><th>Categoría</th><th>Mes</th><th>Monto</th><th>Estado</th><th>Acción</th>
          </tr>
        </thead>
        <tbody id="tablaCuotas"></tbody>
      </table>
      <p class="hint">* Demo: los cambios se guardan en tu navegador (localStorage).</p>
    </div>

    <div>
      <h2 style="margin: 0 0 8px;">Morosos (acciones rápidas)</h2>
      <div class="card" style="text-align:left;">
        <p class="hint" style="margin-top:0;">Selecciona morosos en la tabla y envía avisos:</p>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="btn" id="btnAvisoMail">Enviar correo (simulado)</button>
          <button class="btn" id="btnAvisoWhats">Enviar WhatsApp (simulado)</button>
        </div>
        <div style="margin-top:12px;">
          <p><strong>Plantilla (editable):</strong></p>
          <textarea id="templateAviso" rows="7" style="width:100%;"></textarea>
        </div>
        <div style="margin-top:10px;">
          <p class="hint">Nota: en este MVP los botones abren tu app de correo (mailto) o WhatsApp Web con el mensaje listo. Para envío automático real, se integra backend + WhatsApp Business API.</p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="tab-panel" id="tab-balance" style="display:none;">
  <div class="card-grid">
    <div class="card"><h3 id="balIngresos">$0</h3><p>Ingresos esperados (cuotas)</p></div>
    <div class="card"><h3 id="balRecaudado">$0</h3><p>Ingresos recaudados</p></div>
    <div class="card"><h3 id="balPendiente">$0</h3><p>Ingresos pendientes</p></div>
    <div class="card"><h3 id="balCostosProf">$0</h3><p>Costos profesores (mensual)</p></div>
  </div>

  <div class="two-col" style="margin-top:18px;">
    <div class="card" style="text-align:left;">
      <h2 style="margin-top:0;">Resumen</h2>
      <ul class="clean">
        <li><strong>Margen proyectado:</strong> <span id="balMargen">$0</span></li>
        <li><strong>Margen real (según recaudado):</strong> <span id="balMargenReal">$0</span></li>
      </ul>
      <p class="hint">* Se calcula con datos dummy + lo que marques como pagado/no pagado.</p>
    </div>
    <div class="card" style="text-align:left;">
      <h2 style="margin-top:0;">Costos por profesor</h2>
      <table>
        <thead><tr><th>Profesor</th><th>Categoría</th><th>Remuneración</th></tr></thead>
        <tbody id="tablaCostosProfes"></tbody>
      </table>
    </div>
  </div>
</div>

<div class="tab-panel" id="tab-avisos" style="display:none;">
  <div class="card" style="text-align:left;">
    <h2 style="margin-top:0;">Historial (local)</h2>
    <p class="hint">Registro local de avisos generados desde este MVP.</p>
    <table>
      <thead><tr><th>Fecha</th><th>Canal</th><th>Destinatario</th><th>Estado cuota</th></tr></thead>
      <tbody id="tablaHistAvisos"></tbody>
    </table>
  </div>
</div>

</div>
<footer>
  <p>© 2026 Escuela de Fútbol Gabriel Suazo - MVP Demo</p>
</footer>
<script src="js/app.js"></script>
</body>
</html>
